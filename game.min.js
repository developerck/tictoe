var tt=function(){function u(r){l(r);var i=c(e,t);$("#"+n).append('<div id="spec"><p>Player 1 : <div style="width:10px;height:10px;background:RED; border: 1px RED insight"/></p><p>Player 2 : <div style="width:10px;height:10px;background:GREEN; border: 1px GREEN insight"/></p></div><div id="playermove"></div>');$("#"+n).append(i);$("#playermove").html("Player 1 move")}function a(e){e()}function f(e){e()}function l(r){if(typeof r!=="undefined"){if(typeof r.col!=="undefined"){e=r.col}if(typeof r.row!=="undefined"){t=r.row}if(typeof r.id!=="undefined"){n=r.id}if(typeof r.matchCount!=="undefined"){i=parseInt(r.matchCount,10)-1;if(i+1<parseInt(e,10)||i+1<parseInt(t,10)){alert("Match Count is less than row or col number !please change it before making game!")}}if(typeof r.bfn!=="undefined"){s=r.bfn}if(typeof r.afn!=="undefined"){o=r.afn}}}function c(e,t){var n="";n='<table class="table">';for(var r=1;r<=e;r++){n+="<tr>";for(var i=1;i<=t;i++){n+="<td><input size='10' class='gameInput' type='text' name='["+r+"]["+i+"]' id='"+r+"_"+i+"'  value='' onclick='tt.move(this)';/></td>"}n+="</tr>"}n+="</table>";return n}function h(e){a(s);r++;var t=p(r);if(t=="player1"){$(e).css("background","RED")}else{$(e).css("background","GREEN")}$(e).val(t);$(e).attr("readonly",true);$(e).attr("disabled",true);if(d(e,t)){y()}f(o)}function p(e){var t="";if(e%2==0){if($("#playermove").length)$("#playermove").html("Player 1 move");t="player2"}else{$("#playermove").html("Player 2 move");t="player1"}return t}function d(e,t){var n=$(e).attr("id");var r=n.split("_");var i=parseInt(r[0],10);var s=parseInt(r[1],10);if(v(i,s,t)){alert(t+" won the match");if($("#playermove").length){$("#playermove").html(t+" won the match")}return true}if(g(i,s,t)){alert(t+" won the match");if($("#playermove").length){$("#playermove").html(t+" won the match")}return true}if(m(i,s,t)){alert(t+" won the match");if($("#playermove").length){$("#playermove").html(t+" won the match")}return true}return false}function v(t,n,r){var s=t;var o=1;if(n-i<=1){o=1}else{o=n-i}var u=1;if(n+i>e){u=e}else{u=n+i}var a=0;for(o;o<=u;o++){if($("#"+s+"_"+o).val()==r){a++;if(a>i){return true}}else{a=0}}return false}function m(n,r,s){var o=1;var u=1;if(r-i<1){u=1}else{u=r-3}var a=1;if(e+i>e){a=e}else{a=r+i}if(n-i<1){o=1}else{o=n-i}var f=1;if(n+i>=t){f=t}else{f=n+i}var l=0;for(u,o;u<=a&&o<=f;o++,u++){if($("#"+o+"_"+u).val()==s){l++;if(l>i){return true}}else{l=0}}for(a,o;a<=u&&o<=f;o++,a--){if($("#"+o+"_"+a).val()==s){l++;if(l>i){return true}}else{l=0}}return false}function g(e,n,r){var s=1;var o=n;if(e-i<1){s=1}else{s=e-i}var u=1;if(e+i>=t){u=t}else{u=e+i}var a=0;for(s;s<u;s++){if($("#"+s+"_"+o).val()==r){a++;if(a>i){return true}}else{a=0}}return false}function y(){$(".gameInput").attr("disabled",true);$(".gameInput").attr("readonly",true)}var e=6;var t=7;var n="gametable";var r=0;var i=3;var s="";var o="";return{init:u,move:h}}()